{"file":"E:\\Curso JS\\Deploy\\Commerce\\backend\\src\\models\\User.ts","mappings":";;AAAA,yCAAwD;AAgBxD,MAAqB,IAAK,SAAQ,iBAA6C;IAU7E,MAAM,CAAC,IAAI,CAAC,SAAoB;QAC9B,OAAO,KAAK,CAAC,IAAI,CAAC;YAChB,EAAE,EAAE;gBACF,IAAI,EAAE,qBAAS,CAAC,OAAO;gBACvB,UAAU,EAAE,IAAI;gBAChB,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE,KAAK;aACjB;YACD,IAAI,EAAE;gBACJ,IAAI,EAAE,qBAAS,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC3B,SAAS,EAAE,KAAK;aACjB;YACD,IAAI,EAAE;gBACJ,IAAI,EAAE,qBAAS,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC3B,SAAS,EAAE,KAAK;gBAChB,MAAM,EAAE,IAAI;aACb;YACD,KAAK,EAAE;gBACL,IAAI,EAAE,qBAAS,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC3B,SAAS,EAAE,KAAK;gBAChB,MAAM,EAAE,IAAI;aACb;YACD,QAAQ,EAAE;gBACR,IAAI,EAAE,qBAAS,CAAC,MAAM,CAAC,GAAG,CAAC;gBAC3B,SAAS,EAAE,KAAK;aACjB;YACD,IAAI,EAAE;gBACJ,IAAI,EAAE,qBAAS,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;gBACzC,SAAS,EAAE,KAAK;gBAChB,YAAY,EAAE,UAAU;aACzB;YACD,UAAU,EAAE;gBACV,IAAI,EAAE,qBAAS,CAAC,OAAO;gBACvB,SAAS,EAAE,KAAK;gBAChB,YAAY,EAAE,KAAK;aACpB;SACF,EAAE;YACD,SAAS;YACT,SAAS,EAAE,OAAO;YAClB,UAAU,EAAE,IAAI;YAChB,QAAQ,EAAE,KAAK;YACf,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,SAAS,CAAC,MAAW;QAC1B,2DAA2D;QAC3D,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE;YACjC,UAAU,EAAE,SAAS;YACrB,EAAE,EAAE,gBAAgB;SACrB,CAAC,CAAC;IACL,CAAC;CACF;AA9DD,uBA8DC","names":[],"sources":["E:\\Curso JS\\Deploy\\Commerce\\backend\\src\\models\\User.ts"],"sourcesContent":["import { DataTypes, Model, Sequelize } from 'sequelize';\r\n\r\ninterface UserAttributes {\r\n  id?: number;\r\n  name: string;\r\n  mail: string;\r\n  login: string;\r\n  password: string;\r\n  role: string;\r\n  is_deleted: boolean;\r\n}\r\n\r\ninterface UserCreationAttributes extends Omit<UserAttributes, 'id' | 'is_deleted'> {\r\n  is_deleted?: boolean;\r\n}\r\n\r\nexport default class User extends Model<UserAttributes, UserCreationAttributes> {\r\n  declare id: number;\r\n  declare name: string;\r\n  declare mail: string;\r\n  declare login: string;\r\n  declare password: string;\r\n  declare role: string;\r\n  declare is_deleted: boolean;\r\n  declare customerDetail?: any; // Para a associação\r\n\r\n  static load(sequelize: Sequelize) {\r\n    return super.init({\r\n      id: {\r\n        type: DataTypes.INTEGER,\r\n        primaryKey: true,\r\n        autoIncrement: true,\r\n        allowNull: false,\r\n      },\r\n      name: {\r\n        type: DataTypes.STRING(255),\r\n        allowNull: false,\r\n      },\r\n      mail: {\r\n        type: DataTypes.STRING(255),\r\n        allowNull: false,\r\n        unique: true,\r\n      },\r\n      login: {\r\n        type: DataTypes.STRING(100),\r\n        allowNull: false,\r\n        unique: true,\r\n      },\r\n      password: {\r\n        type: DataTypes.STRING(255),\r\n        allowNull: false,\r\n      },\r\n      role: {\r\n        type: DataTypes.ENUM('admin', 'customer'),\r\n        allowNull: false,\r\n        defaultValue: 'customer',\r\n      },\r\n      is_deleted: {\r\n        type: DataTypes.BOOLEAN,\r\n        allowNull: false,\r\n        defaultValue: false,\r\n      },\r\n    }, {\r\n      sequelize,\r\n      tableName: 'users',\r\n      timestamps: true,\r\n      paranoid: false,\r\n      underscored: true,\r\n    });\r\n  }\r\n\r\n  static associate(models: any) {\r\n    // Um usuário pode ter um customer_detail (se for customer)\r\n    User.hasOne(models.CustomerDetail, {\r\n      foreignKey: 'user_id',\r\n      as: 'customerDetail'\r\n    });\r\n  }\r\n}\r\n"],"version":3}